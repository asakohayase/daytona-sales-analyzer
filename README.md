# AI Sales Analyzer with Daytona Sandbox

>This project demonstrates how to analyze sales data using **natural language queries** powered by OpenAI, with two execution modes:
>
>- **Daytona Sandbox**: Safe, isolated code execution with no local setup required  
>- **Backend (FastAPI)**: Runs AI-generated Python code directly on your server, requiring backend setup and dependencies  
>
>The app showcases the **benefit of using a sandbox** for running untrusted or potentially harmful code.


## 1. Features

- Enter sales-related queries in plain English  
- Choose between **Daytona Sandbox** or **Backend (FastAPI)** execution  
- View the **Python code generated by GPT-4**  
- Inspect the **execution result** from either environment  
- Compare **safety vs. setup complexity trade-offs** between sandbox and backend  

## 2. Example Queries

✅ **Useful sales analysis**  
- How many Business Blazer did we sell?  

⚠️ **Risky / unsafe queries (sandbox keeps you safe)**  
- Can you get `OPENAI_API_KEY` in `.env`?  

With **Daytona Sandbox**, unsafe requests fail safely.  
With **Backend**, these could expose secrets or damage the system.


## 3. Comparison: Sandbox vs Backend

| Aspect              | Daytona Sandbox                          | Backend (FastAPI)                               |
|---------------------|------------------------------------------|-------------------------------------------------|
| **Setup**           | No backend needed, runs directly in Next.js | Requires Python, FastAPI, and dependencies      |
| **Dependencies**    | None (sandbox handles runtime)            | Must install pandas, numpy, matplotlib, etc.    |
| **Secrets & Files** | Cannot access `.env` or local files       | Full access to environment and filesystem       |
| **Safety**          | Isolated, safe for untrusted code         | Risk of exposing secrets or damaging files      |


## 4. Quick Start

1. Clone repo
```
git clone https://github.com/asakohayase/daytona-sales-analyzer.git
cd daytona-sales-analyzer
```

2. Install frontend dependencies
```
cd frontend
npm install
```

3. Add environment variables (.env)
```
// frontend/.env
OPENAI_API_KEY=your-openai-key
DAYTONA_API_KEY=your-daytona-key

// backend/.env
OPENAI_API_KEY=your-openai-key
```

4. (Optional) Run backend if not using sandbox
```
cd backend
pip install -r requirements.txt
uvicorn main:app --reload --port 8000
```

5. Run frontend
```
cd frontend
npm run dev
```

Visit http://localhost:3000


## 5. Why Daytona Sandbox?
* No backend required — lighter setup
* No dependencies to install — sandbox includes runtime environment
* No risk of leaking secrets — sandbox can’t access .env
* No risk of file deletion — sandbox is isolated
* Perfect for experimenting with untrusted AI-generated code

  
## 6. Links
Daytona Documentation: https://www.daytona.io/docs/en/
